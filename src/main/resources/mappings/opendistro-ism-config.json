{
  "_doc": {
    "properties": {
      "dynamic": "strict",
      "policy": {
        "properties": {
          "name": {
            "type": "text",
            "fields": {
              "keyword": {
                "type": "keyword",
                "ignore_above": 256
              }
            }
          },
          "schema_version": {
            "type": "long"
          },
          "last_updated_time": {
            "type": "date",
            "format": "strict_date_time||epoch_millis"
          },
          "default_state": {
            "type": "keyword"
          },
          "states": {
            "type": "nested",
            "properties": {
              "name": {
                "type": "keyword"
              },
              "actions": {
                "type": "nested",
                "properties": {
                  "timeout": {
                    "type": "text"
                  },
                  "retry": {
                    "properties": {
                      "count": {
                        "type": "integer"
                      },
                      "backoff": {
                        "type": "keyword"
                      },
                      "delay": {
                        "type": "text"
                      }
                    }
                  },
                  "delete": {
                    "type": "object"
                  },
                  "force_merge": {
                    "properties": {
                      "max_num_segments": {
                        "type": "integer"
                      },
                      "only_expunge_deletes": {
                        "type": "boolean"
                      },
                      "flush": {
                        "type": "boolean"
                      }
                    }
                  },
                  "read_only": {
                    "type": "object"
                  },
                  "read_write": {
                    "type": "object"
                  },
                  "replica_count": {
                    "properties": {
                      "number_of_replicas": {
                        "type": "integer"
                      }
                    }
                  },
                  "close": {
                    "type": "object"
                  },
                  "open": {
                    "type": "object"
                  },
                  "snapshot": {
                    "properties": {
                      "repository": {
                        "type": "keyword"
                      },
                      "snapshot": {
                        "type": "keyword"
                      },
                      "include_global_state": {
                        "type": "boolean"
                      }
                    }
                  },
                  "rollover": {
                    "properties": {
                      "min_size": {
                        "type": "text"
                      },
                      "min_index_age": {
                        "type": "text"
                      },
                      "min_doc_count": {
                        "type": "long"
                      }
                    }
                  },
                  "notification": {
                    "properties": {
                      "destination": {
                        "properties": {
                          "name": {
                            "type": "text",
                            "fields": {
                              "keyword": {
                                "type": "keyword",
                                "ignore_above": 256
                              }
                            }
                          },
                          "type": {
                            "type": "keyword"
                          },
                          "last_update_time": {
                            "type": "date",
                            "format": "strict_date_time||epoch_millis"
                          },
                          "chime": {
                            "properties": {
                              "url": {
                                "type": "text",
                                "fields": {
                                  "keyword": {
                                    "type": "keyword",
                                    "ignore_above": 256
                                  }
                                }
                              }
                            }
                          },
                          "slack": {
                            "properties": {
                              "url": {
                                "type": "text",
                                "fields": {
                                  "keyword": {
                                    "type": "keyword",
                                    "ignore_above": 256
                                  }
                                }
                              }
                            }
                          },
                          "custom_webhook": {
                            "properties": {
                              "url": {
                                "type": "text",
                                "fields": {
                                  "keyword": {
                                    "type": "keyword",
                                    "ignore_above": 256
                                  }
                                }
                              },
                              "scheme": {
                                "type": "keyword"
                              },
                              "host": {
                                "type": "text"
                              },
                              "port": {
                                "type": "integer"
                              },
                              "path": {
                                "type": "keyword"
                              },
                              "query_params": {
                                "type": "object",
                                "enabled": false
                              },
                              "header_params": {
                                "type": "object",
                                "enabled": false
                              },
                              "username": {
                                "type": "text"
                              },
                              "password": {
                                "type": "text"
                              }
                            }
                          }
                        }
                      },
                      "message": {
                        "type": "text"
                      }
                    }
                  }
                }
              },
              "transitions": {
                "type": "nested",
                "properties": {
                  "state": {
                    "type": "keyword"
                  },
                  "index_age": {
                    "type": "text"
                  },
                  "doc_count": {
                    "type": "long"
                  },
                  "size":  {
                    "type": "text"
                  },
                  "cron": {
                    "properties": {
                      "expression": {
                        "type": "text"
                      },
                      "timezone": {
                        "type": "keyword"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "managed_index": {
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "enabled_time": {
            "type": "date",
            "format": "strict_date_time||epoch_millis"
          },
          "index" : {
            "type" : "keyword"
          },
          "last_updated_time": {
            "type": "date",
            "format": "strict_date_time||epoch_millis"
          },
          "name": {
            "type": "text",
            "fields": {
              "keyword": {
                "type": "keyword",
                "ignore_above": 256
              }
            }
          },
          "policy_version": {
            "type": "long"
          },
          "policy_name": {
            "type" : "keyword"
          },
          "policy": {
            "type": "object",
            "enabled": false
          },
          "change_policy": {
            "properties": {
              "policy_name": {
                "type": "keyword"
              },
              "state": {
                "type": "keyword"
              },
              "include": {
                "properties": {
                  "state": {
                    "type": "keyword"
                  }
                }
              }
            }
          },
          "schedule": {
            "properties": {
              "interval": {
                "properties": {
                  "period": {
                    "type": "integer"
                  },
                  "unit": {
                    "type": "keyword"
                  },
                  "start_time": {
                    "type": "date",
                    "format": "strict_date_time||epoch_millis"
                  }
                }
              },
              "cron": {
                "properties": {
                  "expression": {
                    "type": "text"
                  },
                  "timezone": {
                    "type": "keyword"
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
